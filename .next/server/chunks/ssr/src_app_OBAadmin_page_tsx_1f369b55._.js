module.exports=[72849,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(70106);let g=(0,f.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),h=(0,f.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),i=(0,f.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),j=(0,f.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),k=(0,f.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),l=(0,f.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),m=(0,f.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var n=a.i(33508);let o=(0,f.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),p=(0,f.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),q=(0,f.default)("gallery-thumbnails",[["rect",{width:"18",height:"14",x:"3",y:"3",rx:"2",key:"74y24f"}],["path",{d:"M4 21h1",key:"16zlid"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M19 21h1",key:"edywat"}]]);var r=a.i(96221),s=a.i(20237);a.i(69387);var t=a.i(60574);a.i(60121);var u=a.i(5420);function v(){let a=(0,e.useRouter)(),[f,v]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)("blog"),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)({title:"",category:"Rehber",excerpt:"",imageUrl:"",images:[]}),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(""),N=(0,c.useRef)(null),O=(0,c.useRef)(null);(0,c.useEffect)(()=>{"true"!==localStorage.getItem("oba_admin_auth")?a.push("/OBAadmin/login"):(G(!0),P(),Q())},[a]);let P=async()=>{E(!0);try{let a=(0,t.query)((0,t.collection)(s.db,"posts"),(0,t.orderBy)("createdAt","desc")),b=(await (0,t.getDocs)(a)).docs.map(a=>({id:a.id,...a.data()}));v(b)}catch(a){console.error("Yükleme hatası:",a)}finally{E(!1)}},Q=async()=>{try{let a=(0,t.query)((0,t.collection)(s.db,"gallery"),(0,t.orderBy)("createdAt","desc")),b=(await (0,t.getDocs)(a)).docs.map(a=>({id:a.id,...a.data()}));y(b)}catch(a){console.error("Galeri yükleme hatası:",a)}},R=async(a,b)=>{let c=a.target.files;if(!c||0===c.length)return;K(!0);let d=Array.from(c),e=[];try{for(let a=0;a<d.length;a++){let c=d[a];M(`${a+1} / ${d.length} y\xfckleniyor...`);let f=`${Date.now()}-${c.name}`,g=(0,u.ref)(s.storage,`uploads/${f}`),h=await (0,u.uploadBytes)(g,c),i=await (0,u.getDownloadURL)(h.ref);i&&("post"===b?e.push(i):await (0,t.addDoc)((0,t.collection)(s.db,"gallery"),{url:i,title:c.name,createdAt:(0,t.serverTimestamp)()}))}"post"===b?I(a=>({...a,images:[...a.images,...e],imageUrl:a.imageUrl||e[0]||""})):"gallery"===b&&(Q(),alert(`${d.length} g\xf6rsel başarıyla galeriye eklendi.`))}catch(a){console.error("Upload error:",a),alert("Yükleme sırasında bir hata oluştu.")}finally{K(!1),M(""),N.current&&(N.current.value=""),O.current&&(O.current.value="")}},S=async a=>{a.preventDefault();try{await (0,t.addDoc)((0,t.collection)(s.db,"posts"),{...H,date:new Date().toLocaleDateString("tr-TR"),createdAt:(0,t.serverTimestamp)(),status:"Yayında"}),C(!1),I({title:"",category:"Rehber",excerpt:"",imageUrl:"",images:[]}),P(),alert("Yazı başarıyla yayınlandı!")}catch(a){console.error("Post error:",a),alert("Yazı eklenirken hata oluştu.")}},T=async a=>{if(confirm("Bu yazıyı silmek istediğinize emin misiniz?"))try{await (0,t.deleteDoc)((0,t.doc)(s.db,"posts",a)),P()}catch(a){alert("Silme işlemi başarısız.")}},U=async a=>{if(confirm("Bu görseli galeriden silmek istiyor musunuz?"))try{await (0,t.deleteDoc)((0,t.doc)(s.db,"gallery",a)),Q()}catch(a){alert("Silme işlemi başarısız.")}};return F?(0,b.jsxs)("div",{className:"flex h-screen bg-[#F8F9FC] font-sans text-oba-dark",children:[(0,b.jsxs)("aside",{className:"w-72 bg-[#1A1C1E] text-white flex flex-col z-20 shadow-2xl",children:[(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-10",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-oba-orange rounded-xl flex items-center justify-center",children:(0,b.jsx)(g,{size:24})}),(0,b.jsx)("span",{className:"text-xl font-bold tracking-tight uppercase",children:"Oba Panel"})]}),(0,b.jsxs)("nav",{className:"space-y-1.5",children:[(0,b.jsx)(w,{label:"Dashboard",active:"dashboard"===z,onClick:()=>A("dashboard"),icon:(0,b.jsx)(g,{size:20})}),(0,b.jsx)(w,{label:"Blog Yazıları",active:"blog"===z,onClick:()=>A("blog"),icon:(0,b.jsx)(h,{size:20})}),(0,b.jsx)(w,{label:"Galeri Yönetimi",active:"gallery"===z,onClick:()=>A("gallery"),icon:(0,b.jsx)(q,{size:20})}),(0,b.jsx)(w,{label:"Mesajlar",active:"messages"===z,onClick:()=>A("messages"),icon:(0,b.jsx)(i,{size:20})})]})]}),(0,b.jsxs)("div",{className:"mt-auto p-6 border-t border-white/5 space-y-2",children:[(0,b.jsxs)(d.default,{href:"/",className:"flex items-center gap-3 text-gray-400 hover:text-white transition-all px-4 py-3 rounded-xl hover:bg-white/5",children:[(0,b.jsx)(l,{size:18})," ",(0,b.jsx)("span",{className:"text-sm font-medium",children:"Sitede Gör"})]}),(0,b.jsxs)("button",{onClick:()=>{localStorage.removeItem("oba_admin_auth"),a.push("/OBAadmin/login")},className:"w-full flex items-center gap-3 text-red-400 hover:text-red-300 transition-all px-4 py-3 rounded-xl hover:bg-red-500/10",children:[(0,b.jsx)(o,{size:18})," ",(0,b.jsx)("span",{className:"text-sm font-medium",children:"Çıkış Yap"})]})]})]}),(0,b.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsxs)("header",{className:"h-20 bg-white border-b border-gray-200 flex items-center justify-between px-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400 font-medium capitalize",children:[(0,b.jsx)("span",{children:"Admin"})," ",(0,b.jsx)(m,{size:14})," ",(0,b.jsx)("span",{children:z})]}),(0,b.jsx)("div",{className:"w-10 h-10 bg-oba-orange/10 text-oba-orange rounded-full flex items-center justify-center font-bold",children:"AD"})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto p-10 bg-[#F8F9FC]",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:["blog"===z&&(0,b.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,b.jsxs)("div",{className:"flex justify-between items-end mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-black text-oba-dark tracking-tight",children:"Blog Yazıları"}),(0,b.jsxs)("button",{onClick:()=>C(!0),className:"bg-oba-orange text-white px-6 py-3.5 rounded-2xl font-bold flex items-center gap-2 transition-all hover:scale-105 shadow-xl shadow-oba-orange/20 uppercase text-xs tracking-widest",children:[(0,b.jsx)(j,{size:20})," Yeni Yazı Ekle"]})]}),(0,b.jsx)("div",{className:"bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-50/50 text-gray-400 text-[11px] uppercase tracking-[0.2em] font-black border-b border-gray-100",children:[(0,b.jsx)("th",{className:"px-8 py-6",children:"İçerik Bilgisi"}),(0,b.jsx)("th",{className:"px-8 py-6",children:"Kategori"}),(0,b.jsx)("th",{className:"px-8 py-6",children:"Tarih"}),(0,b.jsx)("th",{className:"px-8 py-6 text-right",children:"İşlem"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-50 text-sm font-medium",children:f.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50/30 transition-colors",children:[(0,b.jsx)("td",{className:"px-8 py-6 font-bold",children:a.title}),(0,b.jsx)("td",{className:"px-8 py-6",children:(0,b.jsx)("span",{className:"px-3 py-1 bg-gray-100 rounded-lg text-[10px] uppercase font-black",children:a.category})}),(0,b.jsx)("td",{className:"px-8 py-6 text-gray-500",children:a.date}),(0,b.jsx)("td",{className:"px-8 py-6 text-right",children:(0,b.jsx)("button",{onClick:()=>T(a.id),className:"p-2.5 text-red-500 hover:bg-red-50 rounded-xl transition-all",children:(0,b.jsx)(k,{size:18})})})]},a.id))})]})})]}),"gallery"===z&&(0,b.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,b.jsxs)("div",{className:"flex justify-between items-end mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-black text-oba-dark tracking-tight",children:"Galeri Yönetimi"}),(0,b.jsx)("p",{className:"text-gray-400 font-medium text-sm mt-1 italic",children:"Aynı anda birden fazla görsel seçip yükleyebilirsiniz."})]}),(0,b.jsxs)("button",{onClick:()=>O.current?.click(),disabled:J,className:"bg-oba-orange text-white px-6 py-3.5 rounded-2xl font-bold flex items-center gap-2 transition-all hover:scale-105 shadow-xl shadow-oba-orange/20 disabled:opacity-50 uppercase text-xs tracking-widest",children:[J?(0,b.jsx)(r.Loader2,{size:20,className:"animate-spin"}):(0,b.jsx)(p,{size:20}),J?L:"Görsel Seç & Yükle"]}),(0,b.jsx)("input",{type:"file",ref:O,className:"hidden",accept:"image/*",multiple:!0,onChange:a=>R(a,"gallery")})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:[x.map(a=>(0,b.jsxs)("div",{className:"group relative aspect-square bg-white rounded-3xl overflow-hidden border border-gray-100 shadow-sm",children:[(0,b.jsx)("img",{src:a.url,alt:"Galeri",className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,b.jsx)("button",{onClick:()=>U(a.id),className:"bg-red-500 text-white p-3 rounded-full hover:scale-110 transition-transform",children:(0,b.jsx)(k,{size:20})})})]},a.id)),0===x.length&&(0,b.jsx)("div",{className:"col-span-full py-20 text-center border-2 border-dashed border-gray-200 rounded-3xl text-gray-400 font-bold italic uppercase tracking-widest text-xs",children:"Galeri henüz boş. Görsel yüklemeye başlayın."})]})]}),"blog"!==z&&"gallery"!==z&&(0,b.jsx)("div",{className:"p-20 text-center text-gray-400 font-bold italic",children:"Bu bölüm geliştirilme aşamasındadır."})]})})]}),B&&(0,b.jsx)("div",{className:"fixed inset-0 bg-[#0F172A]/40 backdrop-blur-md flex items-center justify-center z-[100] p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-[2.5rem] w-full max-w-xl shadow-2xl p-10 overflow-hidden animate-in zoom-in duration-300",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsx)("h2",{className:"text-3xl font-black text-oba-dark tracking-tight italic uppercase",children:"Yeni Blog Yazısı"}),(0,b.jsx)("button",{onClick:()=>C(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)(n.X,{size:24,className:"text-gray-400"})})]}),(0,b.jsxs)("form",{onSubmit:S,className:"space-y-5",children:[(0,b.jsx)("input",{type:"text",placeholder:"Başlık",required:!0,className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold focus:ring-2 focus:ring-oba-orange outline-none transition-all",value:H.title,onChange:a=>I({...H,title:a.target.value})}),(0,b.jsxs)("select",{className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold focus:ring-2 focus:ring-oba-orange outline-none transition-all appearance-none",value:H.category,onChange:a=>I({...H,category:a.target.value}),children:[(0,b.jsx)("option",{children:"Rehber"}),(0,b.jsx)("option",{children:"Haberler"}),(0,b.jsx)("option",{children:"Tamamlanan Projeler"})]}),(0,b.jsx)("textarea",{rows:3,placeholder:"İçerik özeti...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold resize-none focus:ring-2 focus:ring-oba-orange outline-none transition-all",value:H.excerpt,onChange:a=>I({...H,excerpt:a.target.value})}),H.images.length>0&&(0,b.jsx)("div",{className:"grid grid-cols-4 gap-3 mb-4",children:H.images.map((a,c)=>(0,b.jsxs)("div",{className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all ${H.imageUrl===a?"border-oba-orange shadow-lg shadow-oba-orange/20":"border-gray-100"}`,children:[(0,b.jsx)("img",{src:a,alt:`Blog ${c}`,className:"w-full h-full object-cover",onClick:()=>I({...H,imageUrl:a})}),(0,b.jsx)("button",{type:"button",onClick:b=>{b.stopPropagation();let d=H.images.filter((a,b)=>b!==c),e=H.imageUrl;H.imageUrl===a&&(e=d[0]||""),I({...H,images:d,imageUrl:e})},className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:scale-110 transition-transform",children:(0,b.jsx)(n.X,{size:12})}),H.imageUrl===a&&(0,b.jsx)("div",{className:"absolute bottom-0 inset-x-0 bg-oba-orange text-white text-[8px] font-black uppercase text-center py-0.5 tracking-widest",children:"Kapak"})]},c))}),(0,b.jsxs)("div",{onClick:()=>N.current?.click(),className:"p-6 border-2 border-dashed border-gray-200 rounded-2xl text-center cursor-pointer hover:border-oba-orange/50 hover:bg-oba-orange/[0.02] transition-all group",children:[(0,b.jsx)("input",{type:"file",ref:N,className:"hidden",accept:"image/*",multiple:!0,onChange:a=>R(a,"post")}),J?(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-oba-orange font-bold animate-pulse",children:[(0,b.jsx)(r.Loader2,{className:"animate-spin",size:18}),(0,b.jsx)("span",{className:"text-xs uppercase tracking-widest",children:L||"Yükleniyor..."})]}):(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-[0.2em] group-hover:text-oba-orange transition-colors block",children:"Fotoğraf Ekle"}),(0,b.jsx)("span",{className:"text-gray-300 text-[9px] uppercase tracking-wider block",children:"Birden fazla seçebilirsiniz"})]})]}),(0,b.jsx)("button",{type:"submit",disabled:J,className:"w-full py-5 bg-oba-orange text-white font-black rounded-2xl shadow-xl shadow-oba-orange/30 hover:bg-[#D45520] transition-all disabled:opacity-50 uppercase tracking-widest text-xs",children:"Yayınla"})]})]})})]}):(0,b.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-[#F8F9FC]",children:(0,b.jsx)(r.Loader2,{className:"animate-spin text-oba-orange",size:48})})}function w({label:a,active:c,onClick:d,icon:e}){return(0,b.jsxs)("button",{onClick:d,className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl font-bold transition-all duration-300 ${c?"bg-oba-orange text-white shadow-lg shadow-oba-orange/20":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,children:[e,(0,b.jsx)("span",{className:"text-sm font-bold uppercase tracking-wider",children:a})]})}a.s(["default",()=>v],72849)}];

//# sourceMappingURL=src_app_OBAadmin_page_tsx_1f369b55._.js.map