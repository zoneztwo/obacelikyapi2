(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},2624,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(22016),s=e.i(18566),l=e.i(75254);let i=(0,l.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),n=(0,l.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),o=(0,l.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),d=(0,l.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),c=(0,l.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),h=(0,l.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),x=(0,l.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var g=e.i(37727);let m=(0,l.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),p=(0,l.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),u=(0,l.default)("gallery-thumbnails",[["rect",{width:"18",height:"14",x:"3",y:"3",rx:"2",key:"74y24f"}],["path",{d:"M4 21h1",key:"16zlid"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M19 21h1",key:"edywat"}]]);var b=e.i(31278),y=e.i(59141);e.i(36180);var f=e.i(98925);e.i(61086);var j=e.i(27215);function v(){let e=(0,s.useRouter)(),[l,v]=(0,t.useState)([]),[w,N]=(0,t.useState)([]),[z,M]=(0,t.useState)("blog"),[C,S]=(0,t.useState)(!1),[B,Y]=(0,t.useState)(!0),[A,D]=(0,t.useState)(!1),[U,q]=(0,t.useState)({title:"",category:"Rehber",excerpt:"",imageUrl:"",images:[]}),[F,H]=(0,t.useState)(!1),[R,T]=(0,t.useState)(""),$=(0,t.useRef)(null),G=(0,t.useRef)(null);(0,t.useEffect)(()=>{"true"!==localStorage.getItem("oba_admin_auth")?e.push("/OBAadmin/login"):(D(!0),L(),P())},[e]);let L=async()=>{Y(!0);try{let e=(0,f.query)((0,f.collection)(y.db,"posts"),(0,f.orderBy)("createdAt","desc")),a=(await (0,f.getDocs)(e)).docs.map(e=>({id:e.id,...e.data()}));v(a)}catch(e){console.error("Yükleme hatası:",e)}finally{Y(!1)}},P=async()=>{try{let e=(0,f.query)((0,f.collection)(y.db,"gallery"),(0,f.orderBy)("createdAt","desc")),a=(await (0,f.getDocs)(e)).docs.map(e=>({id:e.id,...e.data()}));N(a)}catch(e){console.error("Galeri yükleme hatası:",e)}},V=async(e,a)=>{let t=e.target.files;if(!t||0===t.length)return;H(!0);let r=Array.from(t),s=[];try{for(let e=0;e<r.length;e++){let t=r[e];T(`${e+1} / ${r.length} y\xfckleniyor...`);let l=`${Date.now()}-${t.name}`,i=(0,j.ref)(y.storage,`uploads/${l}`),n=await (0,j.uploadBytes)(i,t),o=await (0,j.getDownloadURL)(n.ref);o&&("post"===a?s.push(o):await (0,f.addDoc)((0,f.collection)(y.db,"gallery"),{url:o,title:t.name,createdAt:(0,f.serverTimestamp)()}))}"post"===a?q(e=>({...e,images:[...e.images,...s],imageUrl:e.imageUrl||s[0]||""})):"gallery"===a&&(P(),alert(`${r.length} g\xf6rsel başarıyla galeriye eklendi.`))}catch(e){console.error("Upload error:",e),alert("Yükleme sırasında bir hata oluştu.")}finally{H(!1),T(""),$.current&&($.current.value=""),G.current&&(G.current.value="")}},O=async e=>{e.preventDefault();try{await (0,f.addDoc)((0,f.collection)(y.db,"posts"),{...U,date:new Date().toLocaleDateString("tr-TR"),createdAt:(0,f.serverTimestamp)(),status:"Yayında"}),S(!1),q({title:"",category:"Rehber",excerpt:"",imageUrl:"",images:[]}),L(),alert("Yazı başarıyla yayınlandı!")}catch(e){console.error("Post error:",e),alert("Yazı eklenirken hata oluştu.")}},E=async e=>{if(confirm("Bu yazıyı silmek istediğinize emin misiniz?"))try{await (0,f.deleteDoc)((0,f.doc)(y.db,"posts",e)),L()}catch(e){alert("Silme işlemi başarısız.")}},K=async e=>{if(confirm("Bu görseli galeriden silmek istiyor musunuz?"))try{await (0,f.deleteDoc)((0,f.doc)(y.db,"gallery",e)),P()}catch(e){alert("Silme işlemi başarısız.")}};return A?(0,a.jsxs)("div",{className:"flex h-screen bg-[#F8F9FC] font-sans text-oba-dark",children:[(0,a.jsxs)("aside",{className:"w-72 bg-[#1A1C1E] text-white flex flex-col z-20 shadow-2xl",children:[(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-10",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-oba-orange rounded-xl flex items-center justify-center",children:(0,a.jsx)(i,{size:24})}),(0,a.jsx)("span",{className:"text-xl font-bold tracking-tight uppercase",children:"Oba Panel"})]}),(0,a.jsxs)("nav",{className:"space-y-1.5",children:[(0,a.jsx)(k,{label:"Dashboard",active:"dashboard"===z,onClick:()=>M("dashboard"),icon:(0,a.jsx)(i,{size:20})}),(0,a.jsx)(k,{label:"Blog Yazıları",active:"blog"===z,onClick:()=>M("blog"),icon:(0,a.jsx)(n,{size:20})}),(0,a.jsx)(k,{label:"Galeri Yönetimi",active:"gallery"===z,onClick:()=>M("gallery"),icon:(0,a.jsx)(u,{size:20})}),(0,a.jsx)(k,{label:"Mesajlar",active:"messages"===z,onClick:()=>M("messages"),icon:(0,a.jsx)(o,{size:20})})]})]}),(0,a.jsxs)("div",{className:"mt-auto p-6 border-t border-white/5 space-y-2",children:[(0,a.jsxs)(r.default,{href:"/",className:"flex items-center gap-3 text-gray-400 hover:text-white transition-all px-4 py-3 rounded-xl hover:bg-white/5",children:[(0,a.jsx)(h,{size:18})," ",(0,a.jsx)("span",{className:"text-sm font-medium",children:"Sitede Gör"})]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("oba_admin_auth"),e.push("/OBAadmin/login")},className:"w-full flex items-center gap-3 text-red-400 hover:text-red-300 transition-all px-4 py-3 rounded-xl hover:bg-red-500/10",children:[(0,a.jsx)(m,{size:18})," ",(0,a.jsx)("span",{className:"text-sm font-medium",children:"Çıkış Yap"})]})]})]}),(0,a.jsxs)("main",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsxs)("header",{className:"h-20 bg-white border-b border-gray-200 flex items-center justify-between px-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400 font-medium capitalize",children:[(0,a.jsx)("span",{children:"Admin"})," ",(0,a.jsx)(x,{size:14})," ",(0,a.jsx)("span",{children:z})]}),(0,a.jsx)("div",{className:"w-10 h-10 bg-oba-orange/10 text-oba-orange rounded-full flex items-center justify-center font-bold",children:"AD"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-auto p-10 bg-[#F8F9FC]",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:["blog"===z&&(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsxs)("div",{className:"flex justify-between items-end mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-black text-oba-dark tracking-tight",children:"Blog Yazıları"}),(0,a.jsxs)("button",{onClick:()=>S(!0),className:"bg-oba-orange text-white px-6 py-3.5 rounded-2xl font-bold flex items-center gap-2 transition-all hover:scale-105 shadow-xl shadow-oba-orange/20 uppercase text-xs tracking-widest",children:[(0,a.jsx)(d,{size:20})," Yeni Yazı Ekle"]})]}),(0,a.jsx)("div",{className:"bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50/50 text-gray-400 text-[11px] uppercase tracking-[0.2em] font-black border-b border-gray-100",children:[(0,a.jsx)("th",{className:"px-8 py-6",children:"İçerik Bilgisi"}),(0,a.jsx)("th",{className:"px-8 py-6",children:"Kategori"}),(0,a.jsx)("th",{className:"px-8 py-6",children:"Tarih"}),(0,a.jsx)("th",{className:"px-8 py-6 text-right",children:"İşlem"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-50 text-sm font-medium",children:l.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50/30 transition-colors",children:[(0,a.jsx)("td",{className:"px-8 py-6 font-bold",children:e.title}),(0,a.jsx)("td",{className:"px-8 py-6",children:(0,a.jsx)("span",{className:"px-3 py-1 bg-gray-100 rounded-lg text-[10px] uppercase font-black",children:e.category})}),(0,a.jsx)("td",{className:"px-8 py-6 text-gray-500",children:e.date}),(0,a.jsx)("td",{className:"px-8 py-6 text-right",children:(0,a.jsx)("button",{onClick:()=>E(e.id),className:"p-2.5 text-red-500 hover:bg-red-50 rounded-xl transition-all",children:(0,a.jsx)(c,{size:18})})})]},e.id))})]})})]}),"gallery"===z&&(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:[(0,a.jsxs)("div",{className:"flex justify-between items-end mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-black text-oba-dark tracking-tight",children:"Galeri Yönetimi"}),(0,a.jsx)("p",{className:"text-gray-400 font-medium text-sm mt-1 italic",children:"Aynı anda birden fazla görsel seçip yükleyebilirsiniz."})]}),(0,a.jsxs)("button",{onClick:()=>G.current?.click(),disabled:F,className:"bg-oba-orange text-white px-6 py-3.5 rounded-2xl font-bold flex items-center gap-2 transition-all hover:scale-105 shadow-xl shadow-oba-orange/20 disabled:opacity-50 uppercase text-xs tracking-widest",children:[F?(0,a.jsx)(b.Loader2,{size:20,className:"animate-spin"}):(0,a.jsx)(p,{size:20}),F?R:"Görsel Seç & Yükle"]}),(0,a.jsx)("input",{type:"file",ref:G,className:"hidden",accept:"image/*",multiple:!0,onChange:e=>V(e,"gallery")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:[w.map(e=>(0,a.jsxs)("div",{className:"group relative aspect-square bg-white rounded-3xl overflow-hidden border border-gray-100 shadow-sm",children:[(0,a.jsx)("img",{src:e.url,alt:"Galeri",className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsx)("button",{onClick:()=>K(e.id),className:"bg-red-500 text-white p-3 rounded-full hover:scale-110 transition-transform",children:(0,a.jsx)(c,{size:20})})})]},e.id)),0===w.length&&(0,a.jsx)("div",{className:"col-span-full py-20 text-center border-2 border-dashed border-gray-200 rounded-3xl text-gray-400 font-bold italic uppercase tracking-widest text-xs",children:"Galeri henüz boş. Görsel yüklemeye başlayın."})]})]}),"blog"!==z&&"gallery"!==z&&(0,a.jsx)("div",{className:"p-20 text-center text-gray-400 font-bold italic",children:"Bu bölüm geliştirilme aşamasındadır."})]})})]}),C&&(0,a.jsx)("div",{className:"fixed inset-0 bg-[#0F172A]/40 backdrop-blur-md flex items-center justify-center z-[100] p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-[2.5rem] w-full max-w-xl shadow-2xl p-10 overflow-hidden animate-in zoom-in duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-black text-oba-dark tracking-tight italic uppercase",children:"Yeni Blog Yazısı"}),(0,a.jsx)("button",{onClick:()=>S(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,a.jsx)(g.X,{size:24,className:"text-gray-400"})})]}),(0,a.jsxs)("form",{onSubmit:O,className:"space-y-5",children:[(0,a.jsx)("input",{type:"text",placeholder:"Başlık",required:!0,className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold focus:ring-2 focus:ring-oba-orange outline-none transition-all",value:U.title,onChange:e=>q({...U,title:e.target.value})}),(0,a.jsxs)("select",{className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold focus:ring-2 focus:ring-oba-orange outline-none transition-all appearance-none",value:U.category,onChange:e=>q({...U,category:e.target.value}),children:[(0,a.jsx)("option",{children:"Rehber"}),(0,a.jsx)("option",{children:"Haberler"}),(0,a.jsx)("option",{children:"Tamamlanan Projeler"})]}),(0,a.jsx)("textarea",{rows:3,placeholder:"İçerik özeti...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold resize-none focus:ring-2 focus:ring-oba-orange outline-none transition-all",value:U.excerpt,onChange:e=>q({...U,excerpt:e.target.value})}),U.images.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-4 gap-3 mb-4",children:U.images.map((e,t)=>(0,a.jsxs)("div",{className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all ${U.imageUrl===e?"border-oba-orange shadow-lg shadow-oba-orange/20":"border-gray-100"}`,children:[(0,a.jsx)("img",{src:e,alt:`Blog ${t}`,className:"w-full h-full object-cover",onClick:()=>q({...U,imageUrl:e})}),(0,a.jsx)("button",{type:"button",onClick:a=>{a.stopPropagation();let r=U.images.filter((e,a)=>a!==t),s=U.imageUrl;U.imageUrl===e&&(s=r[0]||""),q({...U,images:r,imageUrl:s})},className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:scale-110 transition-transform",children:(0,a.jsx)(g.X,{size:12})}),U.imageUrl===e&&(0,a.jsx)("div",{className:"absolute bottom-0 inset-x-0 bg-oba-orange text-white text-[8px] font-black uppercase text-center py-0.5 tracking-widest",children:"Kapak"})]},t))}),(0,a.jsxs)("div",{onClick:()=>$.current?.click(),className:"p-6 border-2 border-dashed border-gray-200 rounded-2xl text-center cursor-pointer hover:border-oba-orange/50 hover:bg-oba-orange/[0.02] transition-all group",children:[(0,a.jsx)("input",{type:"file",ref:$,className:"hidden",accept:"image/*",multiple:!0,onChange:e=>V(e,"post")}),F?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-oba-orange font-bold animate-pulse",children:[(0,a.jsx)(b.Loader2,{className:"animate-spin",size:18}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-widest",children:R||"Yükleniyor..."})]}):(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("span",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-[0.2em] group-hover:text-oba-orange transition-colors block",children:"Fotoğraf Ekle"}),(0,a.jsx)("span",{className:"text-gray-300 text-[9px] uppercase tracking-wider block",children:"Birden fazla seçebilirsiniz"})]})]}),(0,a.jsx)("button",{type:"submit",disabled:F,className:"w-full py-5 bg-oba-orange text-white font-black rounded-2xl shadow-xl shadow-oba-orange/30 hover:bg-[#D45520] transition-all disabled:opacity-50 uppercase tracking-widest text-xs",children:"Yayınla"})]})]})})]}):(0,a.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-[#F8F9FC]",children:(0,a.jsx)(b.Loader2,{className:"animate-spin text-oba-orange",size:48})})}function k({label:e,active:t,onClick:r,icon:s}){return(0,a.jsxs)("button",{onClick:r,className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl font-bold transition-all duration-300 ${t?"bg-oba-orange text-white shadow-lg shadow-oba-orange/20":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,children:[s,(0,a.jsx)("span",{className:"text-sm font-bold uppercase tracking-wider",children:e})]})}e.s(["default",()=>v],2624)}]);